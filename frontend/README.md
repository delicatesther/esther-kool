# Esther Kool

This is the personal website of Esther Kool, conceived of by Esther Kool. Developed and maintained by Esther Kool.

The application is built with:

- [React](https://reactjs.org/),
- [Next.js](https://nextjs.org/) (Next.js 13),
- [Apollo Client](https://www.apollographql.com/apollo-client) (Data management with GraphQL for BE Microservices),
- [TypeScript](https://www.typescriptlang.org/) (type checking)
- [(Dart) SCSS](https://sass-lang.com/) and [CSS Modules](https://github.com/css-modules/css-modules) (modular styling)

## Installation

Prerequisites to running the Data Dashboard Service locally:

- [node.js](https://nodejs.org/en/) (Latest LTS version or higher)
- [yarn](https://yarnpkg.com/) is used as build tool.

Since Node.js version >= 16.10 yarn is available by running once:

```bash
corepack enable
```

When these dependencies are installed, you can install the dependencies for this project by going to your project root and running:

```bash
yarn
```

### process.ENV

Our project depends on environment variables, saved in `.env` files in the root of the project. `.env.development` contains development variables, `.env.production` contains the production ones. NextJS picks up the correct file automatically, based on the publicRuntimeConfig (server + client) and serverRuntimeConfig (server side only) keys in the NextJS config file in the root of the project.

```bash
# NextJS picks variables in .env.development:

yarn dev

# NextJS picks up variables from .env.production:

yarn start
```

If you are in need of secret variables, store them in a new file called `.env.local` in the root.

⚠️ **WARNING**: `.env.local` should _**never**_ be committed into the repository, because it can contain sensitive data (tokens, account details, etc).

### Clean dependency install

If you run into some dependency issues, sometimes a clean install will help. To do so, simply delete the `node_modules` folder and the either `package-lock.json` (for npm) or `yarn.lock` (for yarn) and run the installation script again.

Committing adjusted lock files is advised to keep the project as similar as possible between developers, which is why we advise using `yarn` as well, so everything stays in sync.

---

## Developing locally

First, run the development server:

```bash
yarn dev
```

To view the result, open your browser and navigate to [http://localhost:3000](http://localhost:3000).

## Building

To build a production version of the Esther Kool website, run:

```bash
yarn build
```

---

---

## Project Structure

| Folder          | Contents                 | Notes                                                                                                                                           |
| --------------- | ------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------- |
| `/.next`        | NextJS output            | Generated folder by NextJS. Contains site output. Can be deleted in case of caching issues.                                                     |
| `/app`          | App router               | Unique folder name utilized by NextJS. Contains the platform's shared layouts, pages, nested routing, loading states, error handling, and more. |
| `/components`   | Project Components       | Contains all React components including SCSS modules.                                                                                           |
| `/lib`          | Project utils and config | Contains all JS util files, component data mocks, service connection (e.g. Apollo) configs, graphQL queries, hooks etc.                         |
| `/node_modules` | Project dependencies     | Generated by node. Can be deleted in case of dependency issues, but should always be re-installed.                                              |
| `/styles`       | SCSS, global styles      | Contains all SCSS config (variables/mixins etc) and global styling not defined in components.                                                   |
| `root`          | Various config files     | Contains config for Git, Prettier, Docker, NextJS, i18n, TypeScript etc.                                                                        |
